{"version":3,"sources":["../../../../src/client/components/router-reducer/ppr-navigations.ts"],"names":["DEFAULT_SEGMENT_KEY","PAGE_SEGMENT_KEY","matchSegment","createRouterCacheKey","updateCacheNodeOnNavigation","oldCacheNode","oldRouterState","newRouterState","prefetchData","prefetchHead","oldRouterStateChildren","newRouterStateChildren","prefetchDataChildren","oldParallelRoutes","parallelRoutes","prefetchParallelRoutes","Map","patchedRouterStateChildren","taskChildren","parallelRouteKey","newRouterStateChild","oldRouterStateChild","oldSegmentMapChild","get","prefetchDataChild","newSegmentChild","newSegmentKeyChild","oldSegmentChild","undefined","oldCacheNodeChild","taskChild","spawnPendingTask","spawnReusedTask","spawnTaskForMissingData","set","newCacheNodeChild","node","newSegmentMapChild","route","newCacheNode","lazyData","rsc","prefetchRsc","head","loading","error","lazyDataResolved","patchRouterStateWithNewChildren","children","baseRouterState","newChildren","clone","routerState","pendingCacheNode","createPendingCacheNode","reusedRouterState","listenForDynamicRequest","task","responsePromise","then","response","flightData","flightDataPath","segmentPath","slice","serverRouterState","length","dynamicData","dynamicHead","writeDynamicDataIntoPendingTask","abortTask","rootTask","i","segment","taskSegment","finishTaskUsingDynamicDataPayload","taskNode","finishPendingCacheNode","serverChildren","dynamicDataChildren","serverRouterStateChild","dynamicDataChild","routerStateChildren","routerStateChild","segmentChild","segmentKeyChild","isLeafSegment","size","maybePrefetchRsc","maybePrefetchLoading","maybePrefetchError","createDeferredRsc","cacheNode","taskState","serverState","taskStateChildren","serverStateChildren","dataChildren","taskStateChild","serverStateChild","dataChild","segmentMapChild","taskSegmentChild","taskSegmentKeyChild","cacheNodeChild","abortPendingCacheNode","dynamicSegmentData","isDeferredRsc","resolve","values","reject","updateCacheNodeOnPopstateRestoration","newParallelRoutes","shouldUsePrefetch","status","DEFERRED","Symbol","value","tag","pendingRsc","Promise","res","rej","fulfilledRsc","rejectedRsc","reason"],"mappings":"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"}
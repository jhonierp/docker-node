{"version":3,"sources":["../../src/client/script.tsx"],"names":["ReactDOM","React","useEffect","useContext","useRef","HeadManagerContext","setAttributesFromProps","requestIdleCallback","ScriptCache","Map","LoadCache","Set","insertStylesheets","stylesheets","preinit","forEach","stylesheet","as","window","head","document","link","createElement","type","rel","href","appendChild","loadScript","props","src","id","onLoad","onReady","dangerouslySetInnerHTML","children","strategy","onError","cacheKey","has","add","get","then","afterLoad","el","loadPromise","Promise","resolve","reject","addEventListener","e","call","catch","innerHTML","__html","textContent","Array","isArray","join","set","setAttribute","body","handleClientScriptLoad","loadLazyScript","readyState","addBeforeInteractiveToCache","scripts","querySelectorAll","script","getAttribute","initScriptLoader","scriptLoaderItems","Script","restProps","updateScripts","getIsSsr","appDir","nonce","hasOnReadyEffectCalled","current","hasLoadScriptEffectCalled","concat","styleSrc","JSON","stringify","preload","integrity","Object","defineProperty","value"],"mappings":"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"}
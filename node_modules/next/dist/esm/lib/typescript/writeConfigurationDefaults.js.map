{"version":3,"sources":["../../../src/lib/typescript/writeConfigurationDefaults.ts"],"names":["promises","fs","bold","cyan","white","CommentJson","semver","os","getTypeScriptConfiguration","Log","getDesiredCompilerOptions","ts","tsOptions","o","target","suggested","reason","lib","allowJs","skipLibCheck","strict","lt","version","forceConsistentCasingInFileNames","undefined","noEmit","gte","incremental","module","parsedValue","ModuleKind","ESNext","parsedValues","Preserve","ES2020","CommonJS","AMD","NodeNext","Node16","value","esModuleInterop","moduleResolution","ModuleResolutionKind","Bundler","Node10","NodeJs","Node12","filter","val","resolveJsonModule","verbatimModuleSyntax","isolatedModules","jsx","JsxEmit","getRequiredConfiguration","res","desiredCompilerOptions","optionKey","Object","keys","ev","writeConfigurationDefaults","tsConfigPath","isFirstTimeSetup","hasAppDir","distDir","hasPagesDir","writeFile","EOL","options","raw","rawConfig","userTsConfigContent","readFile","encoding","userTsConfig","parse","compilerOptions","suggestedActions","requiredActions","check","push","includes","_","nextAppTypes","include","plugins","Array","isArray","hasNextPlugin","some","name","length","info","strictNullChecks","exclude","stringify","forEach","action"],"mappings":"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"}